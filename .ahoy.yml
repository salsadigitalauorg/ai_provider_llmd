ahoyapi: v2
commands:
  lint:
    usage: Run all PHP linting tools (phpcs, phpstan, phpmd)
    cmd: |
      echo "Running PHP_CodeSniffer..."
      vendor/bin/phpcs --standard=Drupal,DrupalPractice --extensions=php,module,inc,install,test,profile,theme,css,info,txt,md,yml src/
      echo ""
      echo "Running PHPStan..."
      vendor/bin/phpstan analyse src/
      echo ""
      echo "Running PHPMD..."
      vendor/bin/phpmd src/ text phpmd.xml
  
  lint-phpcs:
    usage: Run PHP_CodeSniffer with Drupal standards
    cmd: vendor/bin/phpcs --standard=Drupal,DrupalPractice --extensions=php,module,inc,install,test,profile,theme,css,info,txt,md,yml src/
  
  lint-phpstan:
    usage: Run PHPStan static analysis
    cmd: vendor/bin/phpstan analyse src/
  
  lint-phpmd:
    usage: Run PHP Mess Detector
    cmd: vendor/bin/phpmd src/ text phpmd.xml
  
  fix:
    usage: Auto-fix PHP_CodeSniffer violations
    cmd: vendor/bin/phpcbf --standard=Drupal,DrupalPractice --extensions=php,module,inc,install,test,profile,theme,css,info,txt,md,yml src/
  
  install-lint-tools:
    usage: Install PHP linting tools and Drupal standards
    cmd: |
      echo "Installing PHP linting tools..."
      composer require --dev squizlabs/php_codesniffer phpstan/phpstan phpmd/phpmd drupal/coder phpstan/extension-installer mglaman/phpstan-drupal
      echo ""
      echo "Registering Drupal coding standards..."
      vendor/bin/phpcs --config-set installed_paths vendor/drupal/coder/coder_sniffer
      echo ""
      echo "Linting tools installed successfully!"